<!doctype html>
<html lang="th">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≤‡∏¢‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô - ‡∏Ñ‡∏£‡∏π‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≠‡∏ô</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            font-family: 'Sarabun', 'Noto Sans Thai', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
            min-height: 100%;
        }
        
        html, body {
            height: 100%;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            background: #fefce8;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(251, 191, 36, 0.15);
            border: 1px solid #fde047;
        }
        
        .header h1 {
            color: #92400e;
            font-size: 2.5rem;
            margin: 0 0 10px 0;
            font-weight: 700;
        }
        
        .header p {
            color: #a16207;
            font-size: 1.1rem;
            margin: 0;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            align-items: start;
        }
        
        .products-section {
            background: #fefce8;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(251, 191, 36, 0.15);
            border: 1px solid #fde047;
        }
        
        .customer-info {
            margin-bottom: 30px;
            padding: 20px;
            background: #fef9c3;
            border-radius: 15px;
            border: 1px solid #facc15;
        }
        
        .customer-info label {
            display: block;
            color: #92400e;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .customer-info input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #fde047;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s;
            background: #fffbeb;
        }
        
        .customer-info input:focus {
            outline: none;
            border-color: #f59e0b;
        }
        
        .grade-section {
            margin-bottom: 20px;
            border: 2px solid #fde047;
            border-radius: 15px;
            overflow: hidden;
        }
        
        .grade-header {
            background: #fef9c3;
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .grade-header:hover {
            background: #fef08a;
        }
        
        .grade-title {
            color: #92400e;
            font-size: 1.3rem;
            font-weight: 700;
            margin: 0;
        }
        
        .grade-toggle {
            font-size: 1.5rem;
            color: #a16207;
            transition: transform 0.3s;
        }
        
        .grade-toggle.expanded {
            transform: rotate(180deg);
        }
        
        .grade-content {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
        }
        
        .grade-content.expanded {
            max-height: 2000px;
            padding: 20px;
        }
        
        .subject-group {
            margin-bottom: 15px;
            border: 1px solid #facc15;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .subject-header {
            background: #fffbeb;
            padding: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .subject-header:hover {
            background: #fef9c3;
        }
        
        .subject-name {
            color: #a16207;
            font-weight: 600;
            margin: 0;
            font-size: 1.1rem;
        }
        
        .subject-toggle {
            font-size: 1.2rem;
            color: #a16207;
            transition: transform 0.3s;
        }
        
        .subject-toggle.expanded {
            transform: rotate(180deg);
        }
        
        .subject-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
        }
        
        .subject-content.expanded {
            max-height: 500px;
            padding: 15px;
        }
        
        .lesson-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-left: 20px;
        }
        
        .lesson-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            background: #fffbeb;
            border: 2px solid #fde047;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .lesson-item:hover {
            background: #fef9c3;
            border-color: #f59e0b;
        }
        
        .lesson-item.selected {
            background: #fef08a;
            border-color: #d97706;
        }
        
        .lesson-item input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        
        .lesson-details {
            flex: 1;
        }
        
        .lesson-hours {
            font-weight: 600;
            color: #92400e;
        }
        
        .lesson-price {
            color: #d97706;
            font-weight: 700;
            font-size: 0.9rem;
        }
        
        .cart-section {
            background: #fefce8;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(251, 191, 36, 0.15);
            border: 1px solid #fde047;
            position: sticky;
            top: 20px;
        }
        
        .cart-title {
            color: #92400e;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .cart-items {
            margin-bottom: 20px;
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #fde047;
        }
        
        .cart-item:last-child {
            border-bottom: none;
        }
        
        .cart-item-name {
            flex: 1;
            font-size: 0.9rem;
            color: #a16207;
        }
        
        .cart-item-price {
            font-weight: 600;
            color: #d97706;
        }
        
        .remove-item {
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            margin-left: 10px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .cart-summary {
            padding: 20px 0;
            border-top: 2px solid #e2e8f0;
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .summary-row.total {
            font-weight: 700;
            font-size: 1.2rem;
            color: #1e293b;
            border-top: 1px solid #e2e8f0;
            padding-top: 10px;
        }
        
        .discount-badge {
            background: #10b981;
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        

        
        .empty-cart {
            text-align: center;
            color: #64748b;
            padding: 40px 20px;
        }
        

        
        .instruction-note {
            background: #fef9c3;
            border: 2px solid #fde047;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            color: #92400e;
            line-height: 1.6;
        }
        
        .instruction-note p {
            margin: 0 0 10px 0;
        }
        
        .instruction-note p:last-child {
            margin-bottom: 0;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .lesson-options {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container">
   <div class="header">
    <h1 id="page-title">‡∏Ñ‡∏£‡∏π‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≠‡∏ô</h1>
    <p id="page-subtitle">‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏õ.1-3 ‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£ 2568</p>
   </div>
   <div class="main-content">
    <div class="products-section">
     <div id="products-container"><!-- Products will be generated here -->
     </div>
    </div>
    <div class="cart-section">
     <h3 class="cart-title">üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
     <div id="cart-items" class="cart-items">
      <div class="empty-cart">
       <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</p>
       <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</p>
      </div>
     </div>
     <div id="cart-summary" class="cart-summary" style="display: none;">
      <div class="summary-row"><span>‡∏£‡∏ß‡∏°:</span> <span id="subtotal">0 ‡∏ö‡∏≤‡∏ó</span>
      </div>
      <div class="summary-row" id="discount-row" style="display: none;"><span>‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î 5% <span class="discount-badge">3+ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>:</span> <span id="discount-amount">0 ‡∏ö‡∏≤‡∏ó</span>
      </div>
      <div class="summary-row total"><span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥:</span> <span id="total-amount">0 ‡∏ö‡∏≤‡∏ó</span>
      </div>
     </div>
     <div class="instruction-note">
      <p><strong>üì∏ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠:</strong></p>
      <p>‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ä‡∏ó‡∏Ç‡∏≠‡∏á‡πÄ‡∏û‡∏à <strong>"‡∏Ñ‡∏£‡∏π‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≠‡∏ô"</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏∞</p>
     </div>
    </div>
   </div>
  </div>
  <script>
        // Configuration object
        const defaultConfig = {
            page_title: "‡∏Ñ‡∏£‡∏π‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≠‡∏ô",
            page_subtitle: "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏õ.1-3 ‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£ 2568",
            contact_label: "‡∏ä‡∏∑‡πà‡∏≠ Facebook ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠",
            order_button_text: "‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô"
        };

        // Lesson plans data
        const lessonPlans = {
            '‡∏õ.1': {
                '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢': [{ hours: 200, price: 350 }],
                '‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©': [{ hours: 160, price: 300 }, { hours: 200, price: 350 }],
                '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå': [{ hours: 200, price: 350 }],
                '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°': [{ hours: 40, price: 200 }, { hours: 80, price: 250 }],
                '‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏â‡∏•‡∏≤‡∏î‡∏£‡∏π‡πâ': [{ hours: 40, price: 200 }],
                '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì': [{ hours: 40, price: 200 }],
                '‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á': [{ hours: 40, price: 200 }, { hours: 80, price: 250 }],
                '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå': [{ hours: 40, price: 200 }],
                '‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô': [{ hours: 40, price: 200 }, { hours: 80, price: 250 }],
                '‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏à‡∏¥‡∏ï': [{ hours: 40, price: 200 }],
                '‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡∏†‡∏≤‡∏û': [{ hours: 40, price: 200 }],
                '‡∏û‡∏•‡∏®‡∏∂‡∏Å‡∏©‡∏≤': [{ hours: 40, price: 200 }],
                '‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏ä‡∏µ‡∏û': [{ hours: 40, price: 200 }]
            },
            '‡∏õ.2': {
                '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢': [{ hours: 200, price: 350 }],
                '‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©': [{ hours: 160, price: 300 }, { hours: 200, price: 350 }],
                '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå': [{ hours: 200, price: 350 }],
                '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°': [{ hours: 40, price: 200 }, { hours: 80, price: 250 }],
                '‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏â‡∏•‡∏≤‡∏î‡∏£‡∏π‡πâ': [{ hours: 40, price: 200 }],
                '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì': [{ hours: 40, price: 200 }],
                '‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á': [{ hours: 40, price: 200 }, { hours: 80, price: 250 }],
                '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå': [{ hours: 40, price: 200 }],
                '‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô': [{ hours: 40, price: 200 }, { hours: 80, price: 250 }],
                '‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏à‡∏¥‡∏ï': [{ hours: 80, price: 250 }],
                '‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡∏†‡∏≤‡∏û': [{ hours: 40, price: 200 }],
                '‡∏û‡∏•‡∏®‡∏∂‡∏Å‡∏©‡∏≤': [{ hours: 40, price: 200 }],
                '‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏ä‡∏µ‡∏û': [{ hours: 40, price: 200 }]
            },
            '‡∏õ.3': {
                '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢': [{ hours: 160, price: 300 }, { hours: 200, price: 350 }],
                '‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©': [{ hours: 160, price: 300 }, { hours: 200, price: 350 }],
                '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå': [{ hours: 200, price: 350 }],
                '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°': [{ hours: 40, price: 200 }, { hours: 80, price: 250 }],
                '‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏â‡∏•‡∏≤‡∏î‡∏£‡∏π‡πâ': [{ hours: 40, price: 200 }],
                '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì': [{ hours: 40, price: 200 }],
                '‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á': [{ hours: 40, price: 200 }, { hours: 80, price: 250 }],
                '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå': [{ hours: 40, price: 200 }],
                '‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô': [{ hours: 40, price: 200 }, { hours: 80, price: 250 }],
                '‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏à‡∏¥‡∏ï': [{ hours: 80, price: 250 }],
                '‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡∏†‡∏≤‡∏û': [{ hours: 40, price: 200 }, { hours: 80, price: 250 }],
                '‡∏û‡∏•‡∏®‡∏∂‡∏Å‡∏©‡∏≤': [{ hours: 40, price: 200 }],
                '‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏ä‡∏µ‡∏û': [{ hours: 40, price: 200 }]
            }
        };

        let cart = [];

        // Function to get appropriate emoji for each subject
        function getSubjectEmoji(subject) {
            const emojiMap = {
                '‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢': 'üáπüá≠',
                '‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©': 'üá¨üáß',
                '‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå': 'üî¢',
                '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°': 'üî¨',
                '‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏â‡∏•‡∏≤‡∏î‡∏£‡∏π‡πâ': 'üíª',
                '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì': '‚ö°',
                '‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á': 'üèõÔ∏è',
                '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå': 'üìú',
                '‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô': 'üí∞',
                '‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏à‡∏¥‡∏ï': 'üí™',
                '‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡∏†‡∏≤‡∏û': 'üé®',
                '‡∏û‡∏•‡∏®‡∏∂‡∏Å‡∏©‡∏≤': '‚öΩ',
                '‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏ä‡∏µ‡∏û': 'üîß'
            };
            return emojiMap[subject] || 'üìö';
        }

        // Data handler for SDK
        const dataHandler = {
            onDataChanged(data) {
                // Update UI if needed when data changes
                console.log('Orders updated:', data.length);
            }
        };

        // Initialize the application
        async function initApp() {
            // Initialize Data SDK
            if (window.dataSdk) {
                const initResult = await window.dataSdk.init(dataHandler);
                if (!initResult.isOk) {
                    console.error('Failed to initialize data SDK');
                }
            }

            // Initialize Element SDK
            if (window.elementSdk) {
                await window.elementSdk.init({
                    defaultConfig,
                    onConfigChange: async (config) => {
                        document.getElementById('page-title').textContent = config.page_title || defaultConfig.page_title;
                        document.getElementById('page-subtitle').textContent = config.page_subtitle || defaultConfig.page_subtitle;
                        document.getElementById('contact-label').textContent = config.contact_label || defaultConfig.contact_label + ':';
                        document.getElementById('order-button-text').textContent = config.order_button_text || defaultConfig.order_button_text;
                    },
                    mapToCapabilities: (config) => ({
                        recolorables: [],
                        borderables: [],
                        fontEditable: undefined,
                        fontSizeable: undefined
                    }),
                    mapToEditPanelValues: (config) => new Map([
                        ['page_title', config.page_title || defaultConfig.page_title],
                        ['page_subtitle', config.page_subtitle || defaultConfig.page_subtitle],
                        ['contact_label', config.contact_label || defaultConfig.contact_label],
                        ['order_button_text', config.order_button_text || defaultConfig.order_button_text]
                    ])
                });
            }

            generateProducts();
            setupEventListeners();
        }

        function generateProducts() {
            const container = document.getElementById('products-container');
            
            Object.keys(lessonPlans).forEach(grade => {
                const gradeSection = document.createElement('div');
                gradeSection.className = 'grade-section';
                
                // Grade header with toggle
                const gradeHeader = document.createElement('div');
                gradeHeader.className = 'grade-header';
                gradeHeader.addEventListener('click', () => toggleGrade(grade));
                
                const gradeTitle = document.createElement('h2');
                gradeTitle.className = 'grade-title';
                gradeTitle.textContent = `‡∏ä‡∏±‡πâ‡∏ô${grade}`;
                
                const gradeToggle = document.createElement('span');
                gradeToggle.className = 'grade-toggle';
                gradeToggle.textContent = '‚ñº';
                
                gradeHeader.appendChild(gradeTitle);
                gradeHeader.appendChild(gradeToggle);
                gradeSection.appendChild(gradeHeader);
                
                // Grade content (initially hidden)
                const gradeContent = document.createElement('div');
                gradeContent.className = 'grade-content';
                gradeContent.id = `grade-${grade}`;
                
                Object.keys(lessonPlans[grade]).forEach(subject => {
                    const subjectGroup = document.createElement('div');
                    subjectGroup.className = 'subject-group';
                    
                    // Subject header with toggle
                    const subjectHeader = document.createElement('div');
                    subjectHeader.className = 'subject-header';
                    subjectHeader.addEventListener('click', () => toggleSubject(grade, subject));
                    
                    const subjectName = document.createElement('div');
                    subjectName.className = 'subject-name';
                    subjectName.textContent = `${getSubjectEmoji(subject)} ${subject}`;
                    
                    const subjectToggle = document.createElement('span');
                    subjectToggle.className = 'subject-toggle';
                    subjectToggle.textContent = '‚ñº';
                    
                    subjectHeader.appendChild(subjectName);
                    subjectHeader.appendChild(subjectToggle);
                    subjectGroup.appendChild(subjectHeader);
                    
                    // Subject content (initially hidden)
                    const subjectContent = document.createElement('div');
                    subjectContent.className = 'subject-content';
                    subjectContent.id = `subject-${grade}-${subject.replace(/\s+/g, '-')}`;
                    
                    const lessonOptions = document.createElement('div');
                    lessonOptions.className = 'lesson-options';
                    
                    lessonPlans[grade][subject].forEach((lesson, index) => {
                        const lessonItem = document.createElement('div');
                        lessonItem.className = 'lesson-item';
                        
                        const checkbox = document.createElement('input');
                        checkbox.type = 'checkbox';
                        checkbox.id = `${grade}-${subject}-${index}`;
                        checkbox.value = JSON.stringify({
                            grade,
                            subject,
                            hours: lesson.hours,
                            price: lesson.price,
                            id: `${grade}-${subject}-${index}`
                        });
                        
                        const lessonDetails = document.createElement('div');
                        lessonDetails.className = 'lesson-details';
                        
                        const hoursDiv = document.createElement('div');
                        hoursDiv.className = 'lesson-hours';
                        hoursDiv.textContent = `${lesson.hours} ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á`;
                        
                        const priceDiv = document.createElement('div');
                        priceDiv.className = 'lesson-price';
                        priceDiv.textContent = `${lesson.price} ‡∏ö‡∏≤‡∏ó`;
                        
                        lessonDetails.appendChild(hoursDiv);
                        lessonDetails.appendChild(priceDiv);
                        
                        lessonItem.appendChild(checkbox);
                        lessonItem.appendChild(lessonDetails);
                        
                        lessonItem.addEventListener('click', (e) => {
                            if (e.target !== checkbox) {
                                checkbox.checked = !checkbox.checked;
                                checkbox.dispatchEvent(new Event('change'));
                            }
                        });
                        
                        checkbox.addEventListener('change', updateCart);
                        
                        lessonOptions.appendChild(lessonItem);
                    });
                    
                    subjectContent.appendChild(lessonOptions);
                    subjectGroup.appendChild(subjectContent);
                    gradeContent.appendChild(subjectGroup);
                });
                
                gradeSection.appendChild(gradeContent);
                container.appendChild(gradeSection);
            });
        }

        function updateCart() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');
            cart = Array.from(checkboxes).map(cb => JSON.parse(cb.value));
            
            // Update lesson item styles
            document.querySelectorAll('.lesson-item').forEach(item => {
                const checkbox = item.querySelector('input[type="checkbox"]');
                if (checkbox.checked) {
                    item.classList.add('selected');
                } else {
                    item.classList.remove('selected');
                }
            });
            
            renderCart();
        }

        function renderCart() {
            const cartItemsContainer = document.getElementById('cart-items');
            const cartSummary = document.getElementById('cart-summary');
            const orderButton = document.getElementById('order-button');
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `
                    <div class="empty-cart">
                        <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</p>
                        <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</p>
                    </div>
                `;
                cartSummary.style.display = 'none';
                orderButton.disabled = true;
                return;
            }
            
            cartItemsContainer.innerHTML = '';
            cart.forEach(item => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                
                cartItem.innerHTML = `
                    <div class="cart-item-name">
                        ${item.grade} ${item.subject} (${item.hours} ‡∏ä‡∏°.)
                    </div>
                    <div class="cart-item-price">${item.price} ‡∏ö‡∏≤‡∏ó</div>
                    <button class="remove-item" onclick="removeFromCart('${item.id}')">√ó</button>
                `;
                
                cartItemsContainer.appendChild(cartItem);
            });
            
            // Calculate totals
            const subtotal = cart.reduce((sum, item) => sum + item.price, 0);
            const hasDiscount = cart.length >= 3;
            const discountAmount = hasDiscount ? Math.round(subtotal * 0.05) : 0;
            const total = subtotal - discountAmount;
            
            document.getElementById('subtotal').textContent = `${subtotal} ‡∏ö‡∏≤‡∏ó`;
            document.getElementById('discount-amount').textContent = `-${discountAmount} ‡∏ö‡∏≤‡∏ó`;
            document.getElementById('total-amount').textContent = `${total} ‡∏ö‡∏≤‡∏ó`;
            
            const discountRow = document.getElementById('discount-row');
            discountRow.style.display = hasDiscount ? 'flex' : 'none';
            
            cartSummary.style.display = 'block';
            orderButton.disabled = false;
        }

        function removeFromCart(itemId) {
            const checkbox = document.getElementById(itemId);
            if (checkbox) {
                checkbox.checked = false;
                updateCart();
            }
        }

        function toggleGrade(grade) {
            const gradeContent = document.getElementById(`grade-${grade}`);
            const gradeToggle = gradeContent.parentElement.querySelector('.grade-toggle');
            
            if (gradeContent.classList.contains('expanded')) {
                gradeContent.classList.remove('expanded');
                gradeToggle.classList.remove('expanded');
            } else {
                gradeContent.classList.add('expanded');
                gradeToggle.classList.add('expanded');
            }
        }
        
        function toggleSubject(grade, subject) {
            const subjectId = `subject-${grade}-${subject.replace(/\s+/g, '-')}`;
            const subjectContent = document.getElementById(subjectId);
            const subjectToggle = subjectContent.parentElement.querySelector('.subject-toggle');
            
            if (subjectContent.classList.contains('expanded')) {
                subjectContent.classList.remove('expanded');
                subjectToggle.classList.remove('expanded');
            } else {
                subjectContent.classList.add('expanded');
                subjectToggle.classList.add('expanded');
            }
        }

        function setupEventListeners() {
            // Event listeners for product selection are handled in generateProducts()
        }



        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99deaf7192a3d32f',t:'MTc2MzA0MTI3My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>